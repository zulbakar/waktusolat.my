"use strict";angular.module("waktusolatmyApp",["ngAnimate","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngMaterial"]).config(["$routeProvider","$locationProvider","$mdThemingProvider",function(a,b,c){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"});var d=c.extendPalette("blue",{500:"#01579b"});c.definePalette("primaryColorMap",d);var e=c.extendPalette("pink",{A200:"#e91e63"});c.definePalette("accentsColorMap",e),c.setDefaultTheme("altTheme"),c.theme("altTheme").primaryPalette("primaryColorMap").accentPalette("accentsColorMap")}]),angular.module("waktusolatmyApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("waktusolatmyApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("waktusolatmyApp").factory("waktuSolatService",["$http",function(a){return{getState:function(b){var c={method:"GET",url:"./api/get/get-state.php",params:b};return a(c)},getZone:function(b){var c={method:"GET",url:"./api/get/get-zone.php",params:b};return a(c)},getMonth:function(b){var c={method:"GET",url:"./api/get/get-month.php",params:b};return a(c)},getResult:function(b){var c={method:"GET",url:"./api/get/get-result.php",params:b};return a(c)}}}]),angular.module("waktusolatmyApp").component("searchWaktuSolat",{templateUrl:"views/search-waktu-solat.html",controller:["$log","waktuSolatService",function(a,b){var c=this,d=new Date;c.SearchWaktu={},c.filterObj={},c.States=[],c.Zones=[],c.Months=[],c.SearchWaktu.year=d.getFullYear();var d=new Date,e=(d.getFullYear(),d.getDate()),f=d.getMonth()+1,g=d.getFullYear();10>e&&(e="0"+e),10>f&&(f="0"+f),c.nowDate=e+"-"+f+"-"+g,c.getStates=function(){b.getState().then(function(a){c.States=a.data.states},function(b){a.log("Error in getState")})},c.getZones=function(){null!==c.SearchWaktu.state&&c.SearchWaktu.state?b.getZone({state:c.SearchWaktu.state}).then(function(a){c.Zones=a.data.results},function(b){a.log("Error in getZones")}):c.Zones=[]},c.getMonth=function(){null!==c.SearchWaktu.zone&&c.SearchWaktu.zone?b.getMonth().then(function(a){c.Months=a.data},function(b){a.log("Error in getMonth")}):c.Months=[]},c.applySearchFilter=function(){var a=angular.copy(c.SearchWaktu);c.SearchWaktu.month&&(a.month=c.SearchWaktu.month.monthCode),c.SearchWaktu.zone&&(a.zone=c.SearchWaktu.zone.zone),delete a.state,delete a.year,c.filterObj=a},c.resetFilter=function(){c.SearchWaktu={},c.Zones=[],c.Months=[],c.filterObj={}},c.getStates()}]}),angular.module("waktusolatmyApp").component("resultWaktuSolat",{templateUrl:"views/result-waktu-solat.html",bindings:{searchObj:"<"},controller:["$log","waktuSolatService",function(a,b){var c=this;c.result=[];var d=new Date,e=(d.getFullYear(),d.getDate()),f=d.getMonth()+1,g=d.getFullYear();10>e&&(e="0"+e),10>f&&(f="0"+f),c.nowDate=e+"-"+f+"-"+g,c.$onChanges=function(a){a.searchObj&&h(c.searchObj)};var h=function(d){b.getResult(d).then(function(a){c.result=a.data.prayer_times},function(b){a.log("Error in result")})}}]}),angular.module("waktusolatmyApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p> <search-waktu-solat></search-waktu-solat>"),a.put("views/main.html",'<div class="jumbotron"> <h1>\'Allo, \'Allo!</h1> <p class="lead"> <img src="images/yeoman.c582c4d1.png" alt="I\'m Yeoman"><br> Always a pleasure scaffolding your apps. </p> <p><a class="btn btn-lg btn-success" ng-href="#/">Splendid!<span class="glyphicon glyphicon-ok"></span></a></p> </div> <div class="row marketing"> <h4>HTML5 Boilerplate</h4> <p> HTML5 Boilerplate is a professional front-end template for building fast, robust, and adaptable web apps or sites. </p> <h4>Angular</h4> <p> AngularJS is a toolset for building the framework most suited to your application development. </p> <h4>Karma</h4> <p>Spectacular Test Runner for JavaScript.</p> </div>'),a.put("views/result-waktu-solat.html",'<hr> <hr> <hr> <p>This is the result-waktu-solat view.</p> <md-grid-list md-cols-xs="2" md-cols-sm="2" md-cols-md="4" md-cols-gt-md="6" md-row-height-gt-md="1:1" md-row-height="2:2" md-gutter="12px" md-gutter-gt-sm="8px"> <md-grid-tile ng-repeat="result in $ctrl.result" class="bg-class1" ng-class="{\'bg-classNowdate\' : result.date===$ctrl.nowDate}"> <md-icon md-font-library="material-icons">lock_open</md-icon> <md-grid-tile-footer> <h3>{{result.date}}</h3> </md-grid-tile-footer> </md-grid-tile> </md-grid-list> <!--{{$ctrl.result}}-->'),a.put("views/search-waktu-solat.html",'<p>This is the search-waktu-solat view.</p> <form name="searchForm"> <div class="col-md-6"> <div class="form-group"> <label class="col-sm-4 control-label">Negeri</label> <div class="col-sm-8"> <select class="form-control input-sm" ng-model="$ctrl.SearchWaktu.state" name="state" required ng-options="option for option in $ctrl.States track by option" ng-change="$ctrl.getZones()"> <option value="">--Sila Pilih--</option> </select> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-sm-4 control-label">Zone</label> <div class="col-sm-8"> <select class="form-control input-sm" ng-model="$ctrl.SearchWaktu.zone" name="state" required ng-options="option.lokasi for option in $ctrl.Zones track by option.zone" ng-disabled="$ctrl.Zones.length === 0" ng-change="$ctrl.getMonth();"> <option value="">--Sila Pilih--</option> </select> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-sm-4 control-label">Bulan</label> <div class="col-sm-8"> <select class="form-control input-sm" ng-model="$ctrl.SearchWaktu.month" name="state" required ng-options="option.monthDesc for option in $ctrl.Months track by option.monthCode" ng-disabled="$ctrl.Months.length === 0"> <option value="">--Sila Pilih--</option> </select> </div> </div> </div> <div class="form-group form-group-sm"> <label class="control-label col-md-2">&nbsp;</label> <div class="col-md-10"> <button class="btn btn-sm btn-primary" style="width: 100px" ng-click="$ctrl.applySearchFilter()" ng-disabled="searchForm.$invalid">Cari </button> <button class="btn btn-sm btn-default" style="width: 100px" ng-click="$ctrl.resetFilter()">Set Semula </button> </div> </div> </form> <result-waktu-solat search-obj="$ctrl.filterObj"></result-waktu-solat>')}]);