"use strict";angular.module("waktusolatmyApp",["ngAnimate","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngMaterial"]).config(["$routeProvider","$locationProvider","$mdThemingProvider",function(a,b,c){a.when("/",{template:"<waktu-solat-main></waktu-solat-main>"}).otherwise({redirectTo:"/"});var d=c.extendPalette("blue",{500:"#01579b"});c.definePalette("primaryColorMap",d);var e=c.extendPalette("pink",{A200:"#e91e63"});c.definePalette("accentsColorMap",e),c.setDefaultTheme("altTheme"),c.theme("altTheme").primaryPalette("primaryColorMap").accentPalette("accentsColorMap")}]),angular.module("waktusolatmyApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("waktusolatmyApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("waktusolatmyApp").factory("waktuSolatService",["$http",function(a){return{getState:function(b){var c={method:"GET",url:"./api/get/get-state.php",params:b};return a(c)},getZone:function(b){var c={method:"GET",url:"./api/get/get-zone.php",params:b};return a(c)},getMonth:function(b){var c={method:"GET",url:"./api/get/get-month.php",params:b};return a(c)},getResult:function(b){var c={method:"GET",url:"./api/get/get-result.php",params:b};return a(c)}}}]),angular.module("waktusolatmyApp").component("searchWaktuSolat",{templateUrl:"views/search-waktu-solat.html",controller:["$log","waktuSolatService",function(a,b){var c=this,d=new Date;c.SearchWaktu={},c.filterObj={},c.States=[],c.Zones=[],c.Months=[],c.SearchWaktu.year=d.getFullYear();var d=new Date,e=(d.getFullYear(),d.getDate()),f=d.getMonth()+1,g=d.getFullYear();10>e&&(e="0"+e),10>f&&(f="0"+f),c.nowDate=e+"-"+f+"-"+g,c.SearchWaktu.month=f,c.getStates=function(){b.getState().then(function(a){c.States=a.data.states},function(b){a.log("Error in getState")})},c.getZones=function(){""!==c.SearchWaktu.state?b.getZone({state:c.SearchWaktu.state}).then(function(a){c.Zones=a.data.results},function(b){a.log("Error in getZones")}):c.Zones=[]},c.getMonth=function(){""!==c.SearchWaktu.zone?b.getMonth().then(function(a){c.Months=a.data},function(b){a.log("Error in getMonth")}):c.Months=[]},c.applySearchFilter=function(){var a=angular.copy(c.SearchWaktu);c.SearchWaktu.month&&(a.month=c.SearchWaktu.month),c.SearchWaktu.zone&&(a.zone=c.SearchWaktu.zone),delete a.state,delete a.year,c.filterObj=a},c.resetFilter=function(){c.SearchWaktu={},c.Zones=[],c.Months=[],c.filterObj={},c.SearchWaktu.month=f},c.getStates()}]}),angular.module("waktusolatmyApp").component("resultWaktuSolat",{templateUrl:"views/result-waktu-solat.html",bindings:{searchObj:"<"},controller:["$log","waktuSolatService",function(a,b){var c=this;c.result=[];var d=new Date,e=(d.getFullYear(),d.getDate()),f=d.getMonth()+1,g=d.getFullYear();10>e&&(e="0"+e),10>f&&(f="0"+f),c.nowDate=e+"-"+f+"-"+g,c.$onChanges=function(a){a.searchObj&&h(c.searchObj)};var h=function(d){b.getResult(d).then(function(a){c.result=a.data.prayer_times},function(b){a.log("Error in result")})}}]}),angular.module("waktusolatmyApp").component("waktuSolatMain",{templateUrl:"views/waktu-solat-main.html",controller:["$log",function(a){}]}),angular.module("waktusolatmyApp").component("waktuSolat",{templateUrl:"views/waktu-solat.html",controller:["$log",function(a){}]}),angular.module("waktusolatmyApp").run(["$templateCache",function(a){a.put("views/result-waktu-solat.html",'<hr> <md-grid-list md-cols-xs="2" md-cols-sm="2" md-cols-md="4" md-cols-gt-md="6" md-row-height-gt-md="1:1" md-row-height="2:2" md-gutter="12px" md-gutter-gt-sm="8px"> <md-grid-tile ng-repeat="result in $ctrl.result" class="bg-class1" ng-class="{\'bg-classNowdate\' : result.date===$ctrl.nowDate}"> <md-icon md-font-library="material-icons">access_alarms</md-icon> <md-grid-tile-footer> <h3>{{result.date}}</h3> </md-grid-tile-footer> </md-grid-tile> </md-grid-list> <!--{{$ctrl.result}}-->'),a.put("views/search-waktu-solat.html",'<center>{{$ctrl.nowDate}}</center> <form name="searchForm"> <div class="row"> <div class="col-md-12 col-sm-12"> <md-input-container class="md-block"> <label>NEGERI</label> <md-select ng-model="$ctrl.SearchWaktu.state" name="state" required ng-change="$ctrl.getZones()"> <md-option value="">--Sila Pilih--</md-option> <md-option value="{{option}}" ng-repeat="option in $ctrl.States">{{option | uppercase }}</md-option> </md-select> <div ng-messages="searchForm.state.$error" role="alert"> <div ng-message-exp="[\'required\']"> Sila Pilih. </div> </div> </md-input-container> </div> <div class="col-md-12 col-sm-12"> <md-input-container class="md-block"> <label>ZONE</label> <md-select ng-model="$ctrl.SearchWaktu.zone" name="zone" required ng-disabled="$ctrl.Zones.length === 0" ng-change="$ctrl.getMonth();"> <md-option value="">--Sila Pilih--</md-option> <md-option value="{{option.zone}}" ng-repeat="option in $ctrl.Zones">{{option.lokasi | uppercase }}</md-option> </md-select> <div ng-messages="searchForm.zone.$error" role="alert"> <div ng-message-exp="[\'required\']"> Sila Pilih. </div> </div> </md-input-container> </div> <div class="col-md-12 col-sm-12"> <md-input-container class="md-block"> <label>BULAN</label> <md-select ng-model="$ctrl.SearchWaktu.month" name="month" required ng-disabled="$ctrl.Months.length === 0"> <md-option value="">--Sila Pilih--</md-option> <md-option value="{{option.monthCode}}" ng-repeat="option in $ctrl.Months">{{option.monthDesc | uppercase }}</md-option> </md-select> <div ng-messages="searchForm.month.$error" role="alert"> <div ng-message-exp="[\'required\']"> Sila Pilih. </div> </div> </md-input-container> </div> <div class="col-md-12 col-sm-12"> <div class="form-group"> <label class="control-label col-md-4">&nbsp;</label> <div class="col-md-8"> <md-button class="md-raised md-accent" type="button" ng-click="$ctrl.applySearchFilter()" ng-disabled="searchForm.$invalid">Submit</md-button> <md-button class="md-raised" type="button" ng-click="$ctrl.resetFilter()">Reset</md-button> </div> </div> </div> </div> </form> <div class="row"> <div class="col-md-12"> <result-waktu-solat search-obj="$ctrl.filterObj"></result-waktu-solat> </div> </div>'),a.put("views/waktu-solat-main.html",'<!--<md-toolbar style="background:transparent;">\n    <div class="md-toolbar-tools">\n\n        <h2 flex md-truncate>Waktu Solat My</h2>\n\n        <md-button ng-href="./#/" aria-label="Register" class="custom-view-desktop">\n            <md-icon md-menu-origin md-font-library="material-icons">dashboard</md-icon>\n            <span> Waktu Solat</span>\n        </md-button>--><!--Menu Mobile view--><!--<md-menu md-position-mode="target-right target" class="custom-view-mobile">\n\n            <md-button aria-label="Open demo menu" class="md-icon-button" ng-click="$mdMenu.open($event)">\n                <md-icon md-font-library="material-icons">more_vert</md-icon>\n            </md-button>\n\n            <md-menu-content width="4">\n                \n                <md-menu-item>\n                    <md-button ng-href="./#!/">\n                        <div layout="row" flex>\n                            <md-icon md-menu-origin md-font-library="material-icons">dashboard</md-icon>\n                            <span> Waktu Solat</span>\n                        </div>\n                    </md-button>\n                </md-menu-item>\n\n            </md-menu-content>\n\n        </md-menu>\n\n    </div>\n</md-toolbar>--> <waktu-solat></waktu-solat>'),a.put("views/waktu-solat.html",'<div class="col-md-8 col-sm-8 col-md-offset-2 col-sm-offset-1" style="margin-top:5vh"> <span flex></span> <md-card layout-padding class="md-whiteframe-5dp" style="width: 100%;margin-left:1px"> <md-content> <md-toolbar class="md-accent md-whiteframe-1dp" style="height: 30px;border-left:solid 10px #01579b"> <div class="md-toolbar-tools"> <h2 flex md-truncate>Carian Waktu Solat Di Malaysia</h2> </div> </md-toolbar> <md-content class="md-padding" style="overflow:hidden"> <search-waktu-solat></search-waktu-solat> </md-content> </md-content> </md-card> </div>')}]);